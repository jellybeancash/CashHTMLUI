(this["webpackJsonpcashcow-frontend"]=this["webpackJsonpcashcow-frontend"]||[]).push([[21],{772:function(e,t,n){"use strict";t.a=["99968","163083","163084","163085","181582","181583","181587","181589","181591","181593","202963","202980","202988","202989","202995","203001","203007","203010","203015","203019","203024","203026","203030","203032","203035","203040","203044","203046","203049","203053","203055","203058","203059","203062","203066","203070","203072","203073","203075","203082","203084","203089","203091","203092","203094","203098","203101","203104","203107","203108","203110","203113","203115","203118","203120","203121","203126","203129","203133","203136","203138","203140","203144","203146","203151","203152","203155","203156","203158","203160","203163","203165","203168","203172","203174","203177","203179","203182","203185","203186","203188","203189","203193","203194","203197","203199","203201","203203","203206","203208","203209","203211","203213","203216","203217","203222","203225","203229","203231","203235"]},923:function(e,t,n){"use strict";n.r(t);var c,r,a,i,s,o,l,b,d,j,x,p,h,u,O,f,m,g,w,k,v,y,I,T,A,N,R=n(16),C=n(22),S=n(56),z=n(6),M=n.n(z),F=n(771),D=n.n(F),L=n(0),B=n(77),U=n(769),P=n(768),W=n(775),E=n(154),H=n.n(E),_=n(29),J=n(5),q=n(201),Y=n(45),K=n(40),V=n(772),$=n(123),G=n(205),Q=n(46),X=n(800),Z=n.n(X),ee=n(109),te=n(126),ne=n(770),ce=n(767),re=n(12),ae=J.e.div(c||(c=Object(S.a)(["\n  display: flex;\n  padding: 16px 32px;\n  flex: 1;\n  flex-wrap: wrap;\n  align-items: inherit;\n  justify-content: center;\n"]))),ie=J.e.div(r||(r=Object(S.a)(["\n  max-width: 332px;\n  max-height: 100%;\n  min-width: 240px;\n  min-height: 240px;\n  width: 46%;\n  border-radius: 16px;\n  overflow: hidden;\n  margin: 16px 32px 16px 0;\n  position: relative;\n\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]))),se=J.e.div(a||(a=Object(S.a)(["\n  width: 100%;\n  padding-bottom: 100%;\n  height: 0;\n  background-repeat: no-repeat;\n  background-position: 50%;\n  background-size: auto 100%;\n"]))),oe=J.e.div(i||(i=Object(S.a)(["\n  flex: 1;\n  min-width: 220px;\n  margin: 16px 0;\n  display: flex;\n  flex-direction: column;\n"]))),le=J.e.div(s||(s=Object(S.a)(["\n  font-size: 28px;\n  font-weight: 600;\n  color: #431216;\n  word-break: break-word;\n"]))),be=J.e.div(o||(o=Object(S.a)(["\n  margin-top: 20px;\n  box-shadow: 0 6px 12px 0 rgb(0 0 0 / 6%), 0 -1px 2px 0 rgb(0 0 0 / 2%);\n  border-radius: 16px;\n  display: flex;\n  height: 100%;\n"]))),de=J.e.div(l||(l=Object(S.a)(["\n  padding: 16px;\n  flex: 1;\n"]))),je=J.e.div(b||(b=Object(S.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 14px;\n  color: #694f4e;\n"]))),xe=J.e.div(d||(d=Object(S.a)(["\n  display: flex;\n  align-items: center;\n"]))),pe=J.e.div(j||(j=Object(S.a)(["\n  font-size: 28px;\n  color: #431216;\n  font-weight: 700;\n  margin-top: 6px;\n  display: flex;\n  align-items: center;\n"]))),he=J.e.div(x||(x=Object(S.a)(["\n  margin-top: 24px;\n"]))),ue=J.e.div(p||(p=Object(S.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 16px;\n  column-gap: 8px;\n"]))),Oe=J.e.input(h||(h=Object(S.a)(["\n  border: 1px solid #e8e8e8;\n  border-radius: 12px;\n  height: 44px;\n  line-height: 44px;\n  box-sizing: border-box;\n  font-size: 16px;\n  padding: 0 68px 0 16px;\n  display: flex;\n  outline: none;\n  color: #431216;\n  background: transparent;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  margin-right: 15px;\n  -moz-appearance: textfield;\n\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n"]))),fe=new H.a(H.a.givenProvider),me=new fe.eth.Contract(P.abi,Object(K.c)()),ge=new fe.eth.Contract(W.abi,Object(K.f)()),we=new fe.eth.Contract(U.abi,Object(K.a)()),ke=function(e){var t=e.myToken,n=Object($.a)().isDark,c=Object(B.m)().account,r=Object(L.useState)(""),a=Object(C.a)(r,2),i=a[0],s=a[1],o=Object(L.useState)(""),l=Object(C.a)(o,2),b=l[0],d=l[1],j=Object(L.useState)(""),x=Object(C.a)(j,2),p=x[0],h=x[1],u=Object(L.useState)("0"),O=Object(C.a)(u,2),f=O[0],m=O[1],g=Object(L.useState)(""),w=Object(C.a)(g,2),k=w[0],v=w[1],y=Object(L.useState)(""),I=Object(C.a)(y,2),T=I[0],A=I[1],N=Object(L.useState)(!1),S=Object(C.a)(N,2),z=S[0],F=S[1],D=Object(L.useState)(!1),U=Object(C.a)(D,2),P=U[0],W=U[1],E=Object(L.useState)(!0),H=Object(C.a)(E,2),_=H[0],J=H[1],q=Object(L.useContext)(te.a).setLoading,V=Object(ee.g)(),X=Object(L.useCallback)(Object(R.a)(M.a.mark((function e(){var n,r,a,i,o,l,b;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.methods.fetchMarketItems().call({from:c});case 2:if(n=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:r=0;case 6:if(!(r<n.length)){e.next=14;break}if(n[r].itemId!==t.itemId){e.next=11;break}return d(Object(Q.fromWei)(n[r].price,"ether")),F(!0),e.abrupt("break",14);case 11:r++,e.next=6;break;case 14:if(m(t.itemId),a=t.tokenId){e.next=18;break}return e.abrupt("return");case 18:if(i=null,t.isAIR){e.next=25;break}return e.next=22,me.methods.tokenURI(Object(Q.toBN)(a)).call({from:c});case 22:i=e.sent,e.next=28;break;case 25:return e.next=27,we.methods.tokenURI(Object(Q.toBN)(a)).call({from:c});case 27:i=e.sent;case 28:return e.next=30,fetch(i);case 30:return o=e.sent,e.next=33,o.json();case 33:l=e.sent,h(l.name),v(l.description),b=l.image,t.isAIR?s(b):(b=b.slice(7),s("".concat(ne.a).concat(b)));case 38:case"end":return e.stop()}}),e)}))),[c,t]);Object(L.useEffect)((function(){X()}),[X]);var fe=function(){var e=Object(R.a)(M.a.mark((function e(){var n,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(J(!1),q(!0),ve(),!t.isAIR){e.next=15;break}return e.next=8,we.methods.getApproved(Object(Q.toBN)(t.tokenId)).call();case 8:if(e.sent===Object(K.f)()){e.next=13;break}return e.next=12,we.methods.approve(Object(K.f)(),Object(Q.toBN)(t.tokenId)).send({from:c});case 12:G.b.success("Approved AirtNFT token.");case 13:e.next=22;break;case 15:return e.next=17,me.methods.isApprovedForAll(c,Object(K.f)()).call();case 17:if(e.sent){e.next=22;break}return e.next=21,me.methods.setApprovalForAll(Object(K.f)(),!0).send({from:c});case 21:G.b.success("Approved Milk token.");case 22:return e.prev=22,e.next=25,ge.methods.createMarketItem(t.isAIR?Object(K.a)():Object(K.c)(),Object(Q.toBN)(t.tokenId),Object(Q.toWei)(T,"ether")).send({from:c}).on("transactionHash",(function(){G.b.success("Transaction submitted.")})).on("receipt",(function(e){var t=e.events.MarketItemCreated.returnValues.itemId;m(t),d(T),F(!0),G.b.success("Successfully listed NFT.")}));case 25:e.next=32;break;case 27:e.prev=27,e.t0=e.catch(22),console.log(e.t0),n=e.t0,r=n.message,G.b.error(r);case 32:J(!0),q(!1);case 34:case"end":return e.stop()}}),e,null,[[22,27]])})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(R.a)(M.a.mark((function e(){var n,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!1),q(!0),e.prev=2,e.next=5,ge.methods.unlistMarketItem(t.isAIR?Object(K.a)():Object(K.c)(),f).send({from:c}).on("transactionHash",(function(){G.b.success("Transaction submitted.")})).on("receipt",(function(){F(!1),G.b.success("Successfully unlisted NFT.")}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),n=e.t0,r=n.message,G.b.error(r);case 11:J(!0),q(!1);case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){W(!1)};return Object(re.jsxs)(ae,{children:[Object(re.jsxs)(ie,{children:[Object(re.jsx)(se,{style:{backgroundImage:"url(".concat(i,")")}}),Object(re.jsx)("div",{style:{paddingTop:"10px",fontSize:"17px",color:n?"white":"rgb(105, 79, 78)"},children:k})]}),Object(re.jsxs)(oe,{children:[Object(re.jsx)(le,{style:{color:n?"white":""},children:p}),Object(re.jsx)(be,{style:{background:n?"#16151a":"",boxShadow:n?"0 6px 12px 0 rgb(255 255 255 / 6%), 0 -1px 2px 0 rgb(255 255 255 / 2%)":""},children:z?Object(re.jsxs)(de,{children:[Object(re.jsxs)(je,{style:{color:n?"white":""},children:["Sale Price",Object(re.jsx)(xe,{children:Object(re.jsx)("div",{style:{color:n?"white":"#00d86c",fontWeight:700},children:Object(re.jsxs)("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[Object(re.jsx)("img",{style:{width:"16px",height:"16px",marginRight:"5px",transform:"translateY(-.5px)"},alt:"Milk Token Icon",src:"/images/farms/jellybeancash.png"}),"Milk"]})})})]}),Object(re.jsxs)(pe,{style:{color:n?"white":""},children:[Object(re.jsx)("img",{style:{width:"24px",height:"24px",marginRight:"8px"},src:"/images/farms/jellybeancash.png",alt:"Token Icon"}),Object(ce.c)(b),Object(re.jsxs)("span",{style:{fontSize:"14px",color:n?"white":"#694f4e",fontWeight:400,marginLeft:"4px"},children:["\u2248 $",Object(ce.c)(Math.round(V.toNumber()*parseInt(b)*100)/100)]})]})]}):Object(re.jsx)("div",{style:{fontSize:"17px",margin:"auto",padding:"22px",color:n?"white":"rgb(105, 79, 78)"},children:"Not Listed Yet"})}),Object(re.jsx)(he,{children:Object(re.jsx)("div",{children:c&&_?Object(re.jsx)(Y.d,{style:{width:"100%"},onClick:z?ke:function(){W(!0)},children:z?"Unlist NFT":"List NFT"}):Object(re.jsx)(Y.d,{style:{width:"100%"},disabled:!0,children:z?"Unlist NFT":"List NFT"})})})]}),Object(re.jsxs)(Z.a,{isOpen:P,onAfterOpen:function(){},onRequestClose:ve,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"500px",minWidth:"400px",borderRadius:"15px"}},contentLabel:"Example Modal",children:[Object(re.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(re.jsx)(Y.n,{as:"h1",size:"no",color:"primary",mb:"20px",children:"List NFT"}),Object(re.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return ve()},onKeyDown:ve,role:"button",tabIndex:0,children:Object(re.jsx)("img",{src:"/images/close.png",style:{width:"25px",height:"25px"},alt:"close"})})]}),Object(re.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(re.jsxs)("div",{style:{display:"flex",width:"70%"},children:[Object(re.jsx)(Oe,{type:"number",maxLength:18,placeholder:"Price of NFT",value:T,onChange:function(e){var t=e.target,n=t.value,c=t.maxLength,r=n.slice(0,c);A(r)}}),Object(re.jsxs)(ue,{children:[Object(re.jsx)("img",{src:"/images/farms/jellybeancash.png",alt:"token",style:{width:"26px",height:"26px",marginRight:"4px"}}),"JellyBeanCash"]})]}),Object(re.jsx)(Y.d,{onClick:fe,children:"List NFT"})]})]})]})},ve=J.e.div(u||(u=Object(S.a)(["\n  display: flex;\n  min-width: 280px;\n  max-width: 330px;\n  width: 30%;\n  padding: 32px;\n  box-sizing: border-box;\n  flex-direction: column;\n\n  @media (max-width: 768px) {\n    width: 100%;\n    max-width: unset;\n  }\n"]))),ye=J.e.div(O||(O=Object(S.a)(["\n  font-size: 20px;\n  font-weight: 700;\n  color: #431216;\n"]))),Ie=J.e.div(f||(f=Object(S.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: 10px 0;\n"]))),Te=J.e.div(m||(m=Object(S.a)(["\n  padding: 18px 0 0;\n  font-size: 14px;\n"]))),Ae=J.e.div(g||(g=Object(S.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n"]))),Ne=J.e.div(w||(w=Object(S.a)(["\n  color: #431216;\n  font-weight: 500;\n  max-width: 50%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),Re=new H.a(H.a.givenProvider),Ce=function(e){var t=e.myToken,n=Object($.a)().isDark,c=Object(B.m)().account,r=Object(L.useState)(""),a=Object(C.a)(r,2),i=a[0],s=a[1],o=Object(L.useState)(""),l=Object(C.a)(o,2),b=l[0],d=l[1],j=Object(L.useState)([]),x=Object(C.a)(j,2),p=x[0],h=x[1],u=Object(L.useMemo)((function(){return new Re.eth.Contract(P.abi,Object(K.c)())}),[]),O=Object(L.useMemo)((function(){return new Re.eth.Contract(U.abi,Object(K.a)())}),[]),f=Object(L.useCallback)(Object(R.a)(M.a.mark((function e(){var n,r,a,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n=t.tokenId){e.next=5;break}return e.abrupt("return");case 5:if(r=null,t.isAIR){e.next=12;break}return e.next=9,u.methods.tokenURI(Object(Q.toBN)(n)).call({from:c});case 9:r=e.sent,e.next=15;break;case 12:return e.next=14,O.methods.tokenURI(Object(Q.toBN)(n)).call({from:c});case 14:r=e.sent;case 15:return e.next=17,fetch(r);case 17:return a=e.sent,e.next=20,a.json();case 20:i=e.sent,d(i.dna),h(i.attributes),s(t.tokenId);case 24:case"end":return e.stop()}}),e)}))),[t,c,u,O]);return Object(L.useEffect)((function(){f()}),[t,f]),Object(re.jsxs)(ve,{children:[Object(re.jsx)(ye,{style:{color:n?"white":""},children:"On-chain data"}),Object(re.jsx)(Ie,{children:Object(re.jsxs)(Te,{children:[Object(re.jsxs)(Ae,{children:[Object(re.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"Owner"}),Object(re.jsx)(Ne,{children:Object(re.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://bscscan.com/address/".concat(c),style:{textDecoration:"underline",color:n?"white":"#431216"},children:c})})]}),Object(re.jsxs)(Ae,{children:[Object(re.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"Contract Address"}),Object(re.jsx)(Ne,{children:Object(re.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://bscscan.com/address/".concat(t.isAIR?Object(K.a)():Object(K.c)()),style:{textDecoration:"underline",color:n?"white":"#431216"},children:t.isAIR?Object(K.a)():Object(K.c)()})})]}),Object(re.jsxs)(Ae,{children:[Object(re.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"Token ID"}),Object(re.jsx)(Ne,{style:{color:n?"white":""},children:"# ".concat(i)})]}),b&&Object(re.jsxs)(Ae,{children:[Object(re.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"DNA"}),Object(re.jsx)(Ne,{style:{color:n?"white":""},children:b})]}),p.map((function(e){return Object(re.jsxs)(Ae,{children:[Object(re.jsx)("div",{style:{color:n?"white":"#694f4e"},children:e.trait_type}),Object(re.jsx)(Ne,{style:{color:n?"white":""},children:e.value})]},e.trait_type)}))]})})]})},Se=J.e.div(k||(k=Object(S.a)(["\n    position: relative;\n    display: flex;\n    background: #fff;\n    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 3%), 0 4px 6px -2px rgb(0 0 0 / 1%);\n    border-radius: 32px;\n\n    @media (max-width: 768px) {\n        flex-direction: column;\n    }\n"]))),ze=J.e.div(v||(v=Object(S.a)(["\n    min-width: 2px;\n    position: relative;\n    background-image: url(../images/line.jpg);\n    background-repeat: repeat-y;\n    background-size: contain;\n    background-position: 50%;\n"]))),Me=J.e.div(y||(y=Object(S.a)(["\n    background: linear-gradient( 45deg, rgba(255,0,0,1) 0%, rgba(255,154,0,1) 10%, rgba(208,222,33,1) 20%, rgba(79,220,74,1) 30%, rgba(63,218,216,1) 40%, rgba(47,201,226,1) 50%, rgba(28,127,238,1) 60%, rgba(95,21,242,1) 70%, rgba(186,12,248,1) 80%, rgba(251,7,217,1) 90%, rgba(255,0,0,1) 100% );\n    background-size: 300% 300%;\n    animation: ilqnTz 2s linear infinite;\n    filter: blur(10px);\n    position: absolute;\n    top:-2px;\n    right:-2px;\n    bottom:-2px;\n    left:-2px;\n    z-index: -1;\n"]))),Fe=function(e){var t=e.myToken,n=Object($.a)().isDark;return Object(re.jsxs)(Se,{style:{background:n?"#27262c":""},children:[Object(re.jsx)(Me,{}),Object(re.jsx)(ke,{myToken:t}),Object(re.jsx)(ze,{}),Object(re.jsx)(Ce,{myToken:t})]})},De=n(76),Le=J.e.div(I||(I=Object(S.a)(["\n    font-size: 15px;\n    color: #694f4e;\n"]))),Be=J.e.div(T||(T=Object(S.a)(["\n    display: inline;\n"]))),Ue=function(e){var t=e.collectionName,n=Object($.a)().isDark;return Object(re.jsxs)(Le,{children:[Object(re.jsxs)(Be,{children:[Object(re.jsx)(De.b,{to:"/myNFTs",style:{color:n?"white":"#431216"},children:"My NFTs"}),Object(re.jsx)("span",{style:{padding:"0 8px",color:n?"white":""},children:">"})]}),Object(re.jsx)(Be,{children:Object(re.jsx)("span",{style:{fontSize:"15px",color:n?"white":"#694f4e"},children:t})})]})},Pe=J.e.div(A||(A=Object(S.a)(["\n  border-bottom: 1px solid #e8e8e8;\n  margin-bottom: 20px;\n"]))),We=J.e.div(N||(N=Object(S.a)(["\n  margin-top: 32px;\n"]))),Ee=new H.a(H.a.givenProvider);t.default=function(){var e=Object(_.h)().myTokenId,t=Object(B.m)().account,n=Object(L.useState)({}),c=Object(C.a)(n,2),r=c[0],a=c[1],i=Object(L.useState)(!1),s=Object(C.a)(i,2),o=s[0],l=s[1],b=Object(L.useMemo)((function(){return new Ee.eth.Contract(P.abi,Object(K.c)())}),[]),d=Object(L.useMemo)((function(){return new Ee.eth.Contract(W.abi,Object(K.f)())}),[]),j=Object(L.useMemo)((function(){return new Ee.eth.Contract(U.abi,Object(K.a)())}),[]),x=Object(L.useCallback)(Object(R.a)(M.a.mark((function n(){var c,r,i,s,o,x,p,h,u,O,f,m,g,w;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=[],n.next=3,b.methods.fetchMyNfts().call({from:t});case 3:return r=n.sent,i=[],D.a.map(r,(function(e){i.push({tokenId:e,isAIR:!1})})),s=[],D.a.map(V.a,(function(e){s.push(j.methods.ownerOf(e).call())})),n.next=10,Promise.all(s);case 10:return o=n.sent,D.a.map(o,(function(e,n){e===t&&i.push({tokenId:V.a[n],isAIR:!0})})),n.next=14,d.methods.fetchItemsCreated().call({from:t});case 14:for(x=n.sent,p=i.length,h=0;h<p;h++)c[h]||(c[h]={}),c[h].itemId="0";for(u=0,O=0;O<x.length;O++)!1===x[O].isSold&&(i.push({tokenId:x[O].tokenId,isAIR:x[O].nftContract===Object(K.a)()}),c[u+p]||(c[u+p]={}),c[u+p].itemId=x[O].itemId,u++);for(f=[],m=0;m<i.length;m++)i[m].isAIR?f.push(j.methods.tokenURI(i[m].tokenId).call()):f.push(b.methods.tokenURI(i[m].tokenId).call());return n.next=23,Promise.all(f);case 23:for(g=n.sent,w=0;w<i.length;w++)c[w]||(c[w]={}),c[w].tokenId=i[w].tokenId,c[w].tokenHash=g[w],c[w].isAIR=i[w].isAIR;l(c[e].isAIR),a(c[e]);case 27:case"end":return n.stop()}}),n)}))),[t,b,d,j,e]);return Object(L.useEffect)((function(){x()}),[x]),Object(re.jsxs)(q.a,{children:[Object(re.jsx)(Pe,{children:Object(re.jsx)(Y.n,{as:"h1",size:"lg",color:"text",mb:"20px",children:"My NFT Detail"})}),Object(re.jsx)(Ue,{collectionName:o?"Air NFT":"HappyCow"}),Object(re.jsx)(We,{children:Object(re.jsx)(Fe,{myToken:r})})]})}}}]);