(this["webpackJsonpcashcow-frontend"]=this["webpackJsonpcashcow-frontend"]||[]).push([[28],{920:function(e,t,n){"use strict";n.r(t);var c,r,a,i,s,o,b,l,d,j,x,h,p,O,u,f,g,m,w,k,v,y,I,S,M,z,N,C,T=n(56),D=n(0),F=n(29),R=n(5),B=n(201),L=n(45),A=n(123),P=n(16),W=n(22),$=n(6),E=n.n($),K=n(205),U=n(769),_=n(775),q=n(768),J=n(816),Y=n(77),H=n(46),G=n(154),Q=n.n(G),V=n(109),X=n(40),Z=n(126),ee=n(770),te=n(767),ne=n(12),ce=R.e.div(c||(c=Object(T.a)(["\n  display: flex;\n  padding: 16px 32px;\n  flex: 1;\n  flex-wrap: wrap;\n  align-items: inherit;\n\n  @media (max-width: 768px) {\n    justify-content: center;\n  }\n"]))),re=R.e.div(r||(r=Object(T.a)(["\n  max-width: 332px;\n  max-height: 100%;\n  min-width: 240px;\n  min-height: 240px;\n  width: 46%;\n  border-radius: 16px 16px 0 0;\n  overflow: hidden;\n  margin: 16px 32px 16px 0;\n  position: relative;\n\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]))),ae=R.e.div(a||(a=Object(T.a)(["\n  width: 100%;\n  padding-bottom: 100%;\n  height: 0;\n  background-repeat: no-repeat;\n  background-position: 50%;\n  background-size: auto 100%;\n"]))),ie=R.e.div(i||(i=Object(T.a)(["\n  flex: 1;\n  min-width: 220px;\n  margin: 16px 0;\n  display: flex;\n  flex-direction: column;\n"]))),se=R.e.div(s||(s=Object(T.a)(["\n  font-size: 28px;\n  font-weight: 600;\n  color: #431216;\n  word-break: break-word;\n"]))),oe=R.e.div(o||(o=Object(T.a)(["\n  margin-top: 20px;\n  box-shadow: 0 6px 12px 0 rgb(0 0 0 / 6%), 0 -1px 2px 0 rgb(0 0 0 / 2%);\n  border-radius: 16px;\n  display: flex;\n"]))),be=R.e.div(b||(b=Object(T.a)(["\n  padding: 16px;\n  flex: 1;\n"]))),le=R.e.div(l||(l=Object(T.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 14px;\n  color: #694f4e;\n"]))),de=R.e.div(d||(d=Object(T.a)(["\n  display: flex;\n  align-items: center;\n"]))),je=R.e.div(j||(j=Object(T.a)(["\n  font-size: 28px;\n  color: #431216;\n  font-weight: 700;\n  margin-top: 6px;\n  display: flex;\n  align-items: center;\n"]))),xe=R.e.div(x||(x=Object(T.a)(["\n  margin-top: 24px;\n"]))),he=new Q.a(Q.a.givenProvider),pe=function(e){var t=e.itemId,n=Object(A.a)().isDark,c=Object(F.f)(),r=Object(Y.m)().account,a=Object(D.useState)(!1),i=Object(W.a)(a,2),s=i[0],o=i[1],b=Object(D.useState)(""),l=Object(W.a)(b,2),d=l[0],j=l[1],x=Object(D.useState)(""),h=Object(W.a)(x,2),p=h[0],O=h[1],u=Object(D.useState)(""),f=Object(W.a)(u,2),g=f[0],m=f[1],w=Object(D.useState)(0),k=Object(W.a)(w,2),v=k[0],y=k[1],I=Object(D.useState)(""),S=Object(W.a)(I,2),M=S[0],z=S[1],N=Object(D.useState)(!0),C=Object(W.a)(N,2),T=C[0],R=C[1],B=Object(D.useState)(!1),$=Object(W.a)(B,2),G=$[0],Q=$[1],pe=Object(D.useContext)(Z.a).setLoading,Oe=Object(V.g)(),ue=Object(D.useMemo)((function(){return new he.eth.Contract(q.abi,Object(X.c)())}),[]),fe=Object(D.useMemo)((function(){return new he.eth.Contract(_.abi,Object(X.f)())}),[]),ge=Object(D.useMemo)((function(){return new he.eth.Contract(U.abi,Object(X.a)())}),[]),me=new he.eth.Contract(J.abi,Object(X.h)()),we=Object(D.useCallback)(Object(P.a)(E.a.mark((function e(){var n,c,a,i,s,b,l,d;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.methods.fetchMarketItems().call({from:r});case 2:n=e.sent,c=!1,a=null,i=0;case 6:if(!(i<n.length)){e.next=16;break}if(n[i].itemId!==t){e.next=13;break}return c=n[i].nftContract===Object(X.a)(),a=n[i].tokenId,m(Object(H.fromWei)(n[i].price,"ether")),n[i].seller===r&&Q(!0),e.abrupt("break",16);case 13:i++,e.next=6;break;case 16:if(a){e.next=18;break}return e.abrupt("return");case 18:if(s=null,!c){e.next=25;break}return e.next=22,ge.methods.tokenURI(Object(H.toBN)(a)).call({from:r});case 22:s=e.sent,e.next=28;break;case 25:return e.next=27,ue.methods.tokenURI(Object(H.toBN)(a)).call({from:r});case 27:s=e.sent;case 28:return e.next=30,fetch(s);case 30:return b=e.sent,e.next=33,b.json();case 33:l=e.sent,d=l.image,c?j(d):(d=d.slice(7),j("".concat(ee.a).concat(d))),o(c),O(l.name),z(l.description),y(Oe.toNumber());case 40:case"end":return e.stop()}}),e)}))),[r,fe,ge,t,ue,Oe]);Object(D.useEffect)((function(){we()}),[we]);var ke=function(){var e=Object(P.a)(E.a.mark((function e(){var n,a,i,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!1),pe(!0),e.prev=2,n=Object(H.toWei)(Object(H.toBN)("10000000000000000000000000000000000000000"),"ether"),e.next=6,me.methods.allowance(r,Object(X.f)()).call();case 6:if(a=e.sent,!(parseInt(a.toString())<parseInt(g))){e.next=11;break}return e.next=10,me.methods.approve(Object(X.f)(),n).send({from:r});case 10:K.b.success("Approved Milk token.");case 11:if(!s){e.next=16;break}return e.next=14,fe.methods.createMarketSale(Object(X.a)(),t).send({from:r});case 14:e.next=18;break;case 16:return e.next=18,fe.methods.createMarketSale(Object(X.c)(),t).send({from:r});case 18:c.push("/nft-market"),K.b.success("Successfully bought NFT."),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(2),i=e.t0,o=i.message,K.b.error(o);case 26:R(!0),pe(!1);case 28:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(){return e.apply(this,arguments)}}();return Object(ne.jsxs)(ce,{children:[Object(ne.jsxs)(re,{children:[Object(ne.jsx)(ae,{style:{backgroundImage:"url(".concat(d,")")}}),Object(ne.jsx)("div",{style:{paddingTop:"10px",fontSize:"17px",color:n?"white":"rgb(105, 79, 78)"},children:M})]}),Object(ne.jsxs)(ie,{children:[Object(ne.jsx)(se,{style:{color:n?"white":""},children:p}),Object(ne.jsx)(oe,{style:{background:n?"#16151a":"",boxShadow:n?"0 6px 12px 0 rgb(255 255 255 / 6%), 0 -1px 2px 0 rgb(255 255 255 / 2%)":""},children:Object(ne.jsxs)(be,{children:[Object(ne.jsxs)(le,{style:{color:n?"white":""},children:["Sale Price",Object(ne.jsx)(de,{children:Object(ne.jsx)("div",{style:{color:"".concat("#00d86c"),fontWeight:700},children:Object(ne.jsxs)("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",color:n?"white":""},children:[Object(ne.jsx)("img",{style:{width:"16px",height:"16px",marginRight:"5px",transform:"translateY(-.5px)"},alt:"Milk Token Icon",src:"/images/farms/jellybeancash.png"}),"Milk"]})})})]}),Object(ne.jsxs)(je,{style:{color:n?"white":""},children:[Object(ne.jsx)("img",{style:{width:"24px",height:"24px",marginRight:"8px"},src:"/images/farms/jellybeancash.png",alt:"Token Icon"}),Object(te.c)(g),Object(ne.jsxs)("span",{style:{fontSize:"14px",color:n?"white":"#694f4e",fontWeight:400,marginLeft:"4px"},children:["\u2248 $",Object(te.c)(Math.round(v*parseInt(g)*100)/100)]})]})]})}),Object(ne.jsx)("div",{style:{flex:1}}),Object(ne.jsx)(xe,{children:Object(ne.jsx)("div",{children:r&&T&&!G?Object(ne.jsx)(L.d,{style:{width:"100%"},onClick:ke,children:"Buy NFT"}):Object(ne.jsx)(L.d,{style:{width:"100%"},disabled:!0,children:G?"Your Listing NFT":"Buy NFT"})})})]})]})},Oe=R.e.div(h||(h=Object(T.a)(["\n  display: flex;\n  min-width: 280px;\n  max-width: 330px;\n  width: 30%;\n  padding: 32px;\n  box-sizing: border-box;\n  flex-direction: column;\n\n  @media (max-width: 768px) {\n    max-width: unset;\n    width: 100%;\n  }\n"]))),ue=R.e.div(p||(p=Object(T.a)(["\n  font-size: 20px;\n  font-weight: 700;\n  color: #431216;\n"]))),fe=R.e.div(O||(O=Object(T.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: 15px 0;\n"]))),ge=R.e.div(u||(u=Object(T.a)(["\n  padding: 18px 0 0;\n  font-size: 14px;\n"]))),me=R.e.div(f||(f=Object(T.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n"]))),we=R.e.div(g||(g=Object(T.a)(["\n  color: #431216;\n  font-weight: 500;\n  max-width: 50%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),ke=new Q.a(Q.a.givenProvider),ve=function(e){var t=e.itemId,n=Object(A.a)().isDark,c=Object(Y.m)().account,r=Object(D.useState)(!1),a=Object(W.a)(r,2),i=a[0],s=a[1],o=Object(D.useState)(""),b=Object(W.a)(o,2),l=b[0],d=b[1],j=Object(D.useState)(""),x=Object(W.a)(j,2),h=x[0],p=x[1],O=Object(D.useState)(""),u=Object(W.a)(O,2),f=u[0],g=u[1],m=Object(D.useState)([]),w=Object(W.a)(m,2),k=w[0],v=w[1],y=Object(D.useMemo)((function(){return new ke.eth.Contract(_.abi,Object(X.f)())}),[]),I=Object(D.useMemo)((function(){return new ke.eth.Contract(q.abi,Object(X.c)())}),[]),S=Object(D.useMemo)((function(){return new ke.eth.Contract(U.abi,Object(X.a)())}),[]),M=Object(D.useCallback)(Object(P.a)(E.a.mark((function e(){var n,r,a,i,o,b,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.methods.fetchMarketItems().call({from:c});case 2:n=e.sent,r=0,a=!1,i=0;case 6:if(!(i<n.length)){e.next=16;break}if(n[i].itemId!==t){e.next=13;break}return a=n[i].nftContract===Object(X.a)(),d(n[i].tokenId.toString()),p(n[i].seller.toString()),r=i,e.abrupt("break",16);case 13:i++,e.next=6;break;case 16:if(o=null,!a){e.next=23;break}return e.next=20,S.methods.tokenURI(Object(H.toBN)(n[r].tokenId)).call({from:c});case 20:o=e.sent,e.next=26;break;case 23:return e.next=25,I.methods.tokenURI(Object(H.toBN)(n[r].tokenId)).call({from:c});case 25:o=e.sent;case 26:return e.next=28,fetch(o);case 28:return b=e.sent,e.next=31,b.json();case 31:l=e.sent,s(a),g(l.dna),v(l.attributes);case 35:case"end":return e.stop()}}),e)}))),[c,y,S,t,I]);return Object(D.useEffect)((function(){M()}),[t,M]),Object(ne.jsxs)(Oe,{children:[Object(ne.jsx)(ue,{style:{color:n?"white":""},children:"Properties"}),Object(ne.jsx)(fe,{children:Object(ne.jsxs)(ge,{children:[Object(ne.jsxs)(me,{children:[Object(ne.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"Owner"}),Object(ne.jsx)(we,{children:Object(ne.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://bscscan.com/address/".concat(h),style:{textDecoration:"underline",color:n?"white":"#431216"},children:h})})]}),Object(ne.jsxs)(me,{children:[Object(ne.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"Contract Address"}),Object(ne.jsx)(we,{children:Object(ne.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://bscscan.com/address/".concat(i?Object(X.a)():Object(X.c)()),style:{textDecoration:"underline",color:n?"white":"#431216"},children:i?Object(X.a)():Object(X.c)()})})]}),Object(ne.jsxs)(me,{children:[Object(ne.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"Token ID"}),Object(ne.jsx)(we,{style:{color:n?"white":""},children:"#".concat(l)})]}),f&&Object(ne.jsxs)(me,{children:[Object(ne.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"DNA"}),Object(ne.jsx)(we,{style:{color:n?"white":""},children:f})]}),k.map((function(e){return Object(ne.jsxs)(me,{children:[Object(ne.jsx)("div",{style:{color:n?"white":"#694f4e"},children:e.trait_type}),Object(ne.jsx)(we,{style:{color:n?"white":""},children:e.value})]},e.trait_type)}))]})})]})},ye=R.e.div(m||(m=Object(T.a)(["\n    position: relative;\n    display: flex;\n    background: #fff;\n    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 3%), 0 4px 6px -2px rgb(0 0 0 / 1%);\n    border-radius: 32px;\n    position: relative;\n\n    @media (max-width: 768px) {\n        flex-direction: column;\n    }\n"]))),Ie=R.e.div(w||(w=Object(T.a)(["\n    background: linear-gradient( 45deg, rgba(255,0,0,1) 0%, rgba(255,154,0,1) 10%, rgba(208,222,33,1) 20%, rgba(79,220,74,1) 30%, rgba(63,218,216,1) 40%, rgba(47,201,226,1) 50%, rgba(28,127,238,1) 60%, rgba(95,21,242,1) 70%, rgba(186,12,248,1) 80%, rgba(251,7,217,1) 90%, rgba(255,0,0,1) 100% );\n    background-size: 300% 300%;\n    animation: ilqnTz 2s linear infinite;\n    filter: blur(10px);\n    position: absolute;\n    top:-2px;\n    right:-2px;\n    bottom:-2px;\n    left:-2px;\n    z-index: -1;\n"]))),Se=R.e.div(k||(k=Object(T.a)(["\n    min-width: 2px;\n    position: relative;\n    background-image: url(https://jojo.fun/img/icon-ticket-line-vertical.be8361e4.svg);\n    background-repeat: repeat-y;\n    background-size: contain;\n    background-position: 50%;\n"]))),Me=function(e){var t=e.itemId,n=Object(A.a)().isDark;return Object(ne.jsxs)(ye,{style:{background:n?"#27262c":""},children:[Object(ne.jsx)(Ie,{}),Object(ne.jsx)(pe,{itemId:t}),Object(ne.jsx)(Se,{}),Object(ne.jsx)(ve,{itemId:t})]})},ze=R.e.div(v||(v=Object(T.a)(["\n    margin-top: 40px;\n"]))),Ne=R.e.div(y||(y=Object(T.a)(["\n    font-weight: 700;\n    color: #431216;\n    font-size: 20px;\n    padding-bottom: 14px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-bottom: 1px solid #f5f8fb;\n"]))),Ce=R.e.div(I||(I=Object(T.a)(["\n    font-size: 15px;\n    color: #694f4e;\n    margin-top: 0;\n"]))),Te=R.e.div(S||(S=Object(T.a)(["\n    margin: 12px 0;\n"]))),De=function(){var e=Object(A.a)().isDark;return Object(ne.jsxs)(ze,{children:[Object(ne.jsx)(Ne,{style:{color:e?"white":""},children:"Market Rules"}),Object(ne.jsxs)(Ce,{style:{color:e?"white":""},children:[Object(ne.jsx)(Te,{children:"1. NFTs can be purchased in the NFT Market only by using $MILK;"}),Object(ne.jsx)(Te,{children:"2. After NFT is listed in the trading market, operations such as transfer, auction and stake are not allowed."}),Object(ne.jsx)(Te,{children:"3. The market will charge 10% of the seller his revenue as a service fee, which is used for burning both $MILK and $COW, adding $MILK liquidity and for Treasury."})]})]})},Fe=n(76),Re=R.e.div(M||(M=Object(T.a)(["\n  font-size: 15px;\n  color: #694f4e;\n"]))),Be=R.e.div(z||(z=Object(T.a)(["\n  display: inline;\n"]))),Le=function(e){var t=e.collectionName,n=Object(A.a)().isDark;return Object(ne.jsxs)(Re,{children:[Object(ne.jsxs)(Be,{children:[Object(ne.jsx)(Fe.b,{to:"/nft-market",style:{color:n?"white":"#431216"},children:"NFT Market"}),Object(ne.jsx)("span",{style:{padding:"0 8px",color:n?"white":""},children:">"})]}),Object(ne.jsx)(Be,{children:Object(ne.jsx)("span",{style:{fontSize:"15px",color:n?"white":"#694f4e"},children:t})})]})},Ae=R.e.div(N||(N=Object(T.a)(["\n    border-bottom: 1px solid #e8e8e8;\n    margin-bottom: 20px;\n"]))),Pe=R.e.div(C||(C=Object(T.a)(["\n    margin-top: 32px;\n"])));t.default=function(){var e=Object(F.h)().itemId,t=Object(R.g)().isDark;return Object(ne.jsxs)(B.a,{style:{backgroundImage:t?"url(/images/cow/home-backgrounddark.png)":"url(/images/cow/home-backgroundlight.png)",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[Object(ne.jsx)(Ae,{children:Object(ne.jsx)(L.n,{as:"h1",size:"lg",color:"text",mb:"20px",children:"NFT MARKETPLACE"})}),Object(ne.jsx)(Le,{collectionName:"HappyCow"}),Object(ne.jsx)(Pe,{children:Object(ne.jsx)(Me,{itemId:e})}),Object(ne.jsx)(De,{})]})}}}]);